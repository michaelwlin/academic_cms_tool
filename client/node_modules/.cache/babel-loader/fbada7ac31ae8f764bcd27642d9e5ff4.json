{"ast":null,"code":"var _jsxFileName = \"/Users/MIchaelLin/Documents/GitHub/bloom-cms/client/src/pages/Register.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport Mainpicture from \"../images/life-satisfaction.svg\";\nimport Logo from \"../images/logo.svg\";\n\nconst Register = props => {\n  const history = useHistory();\n  const [formState, setFormState] = useState({\n    username: \"\",\n    password: \"\",\n    confirm_password: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    email: \"\"\n  });\n  const [errorState, setErrorState] = useState({\n    username: \"\",\n    password: \"\",\n    confirm_password: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    email: \"\"\n  });\n\n  const onChangeHandler = event => {\n    event.preventDefault;\n    setFormState({ ...formState,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const onSubmitHandler = event => {\n    event.preventDefault();\n    axios.post('http://localhost:4000/users/new', formState).then(response => {\n      if (response.data.code === 204) {\n        setErrorState({\n          username: response.data.username ? response.data.username : \"\",\n          password: response.data.password ? response.data.password : \"\",\n          password_confirm: response.data.password_confirm ? response.data.password_confirm : \"\",\n          firstname: response.data.firstname ? response.data.firstname : \"\",\n          lastname: response.data.lastname ? response.data.lastname : \"\",\n          email: response.data.email ? response.data.email : \"\"\n        });\n      } else if (response.request.status === 200) {\n        localStorage.setItem('user_id', response.data.insertId);\n        history.push(\"/dashboard\");\n      }\n    }).catch(error => console.log(error));\n  };\n\n  const passwordError = \"Password must be at least 8 characters.\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui top fixed menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ten wide column center aligned row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LoginMainBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Mainpicture,\n    className: \"ui middle aligned large image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"five wide column\",\n    style: {\n      marginLeft: '2.5%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LogoRegisterHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    className: \"ui mini image \",\n    style: {\n      marginBottom: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      marginTop: \"0px\",\n      fontFamily: \"Montserrat\",\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 33\n    }\n  }, \"Bloom CMS V0.0.1\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitHandler,\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 33\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 33\n    }\n  }, errorState.username)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    class: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 33\n    }\n  }, formState.password.length > 0 && formState.password.length < 8 && passwordError), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 33\n    }\n  }, errorState.password)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"password\",\n    name: \"password_confirm\",\n    placeholder: \"Confirm Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  }, errorState.password_confirm)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"two fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"text\",\n    name: \"firstname\",\n    placeholder: \"First Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 37\n    }\n  }, errorState.firstname)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"text\",\n    name: \"lastname\",\n    placeholder: \"Last Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }, errorState.lastname)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 33\n    }\n  }, errorState.email)), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: {\n      backgroundColor: \"#D2ECF9\",\n      color: \"black\",\n      fontFamily: \"Montserrat\"\n    },\n    className: \"fluid ui button primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, \"Sign up\")), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      marginTop: \"10px\",\n      color: 'darkgrey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, \"By signing up, you agree to our \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spanBold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 57\n    }\n  }, \"Terms\"), \", \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spanBold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 100\n    }\n  }, \"Data Policy\"), \" and \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spanBold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 152\n    }\n  }, \"Cookies Policy\"), \".\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"Already Registered? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/login\",\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 45\n    }\n  }, \"Login\"))))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/MIchaelLin/Documents/GitHub/bloom-cms/client/src/pages/Register.js"],"names":["React","useState","axios","useHistory","Register","props","history","formState","setFormState","username","password","confirm_password","firstname","lastname","email","errorState","setErrorState","onChangeHandler","event","preventDefault","target","name","value","onSubmitHandler","post","then","response","data","code","password_confirm","request","status","localStorage","setItem","insertId","push","catch","error","console","log","passwordError","Mainpicture","marginLeft","Logo","marginBottom","marginTop","fontFamily","fontWeight","color","length","backgroundColor","textAlign"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios'\nimport { useHistory } from \"react-router-dom\";\nimport Mainpicture from '../images/life-satisfaction.svg'\nimport Logo from '../images/logo.svg'\n\nconst Register = (props) => {\n    const history = useHistory();\n    const [formState, setFormState] = useState({\n        username: \"\",\n        password: \"\",\n        confirm_password: \"\",\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n    })\n\n    const [errorState, setErrorState] = useState({\n        username: \"\",\n        password: \"\",\n        confirm_password: \"\",\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n    })\n\n    const onChangeHandler = (event) => {\n        event.preventDefault\n        setFormState({\n            ...formState,\n            [event.target.name]:event.target.value\n        })\n    }\n\n    const onSubmitHandler = (event) => {\n        event.preventDefault();\n        axios.post('http://localhost:4000/users/new',formState)\n            .then(response => {\n                if(response.data.code === 204){\n                    setErrorState({\n                        username: response.data.username ? response.data.username : \"\",\n                        password: response.data.password ? response.data.password : \"\",\n                        password_confirm: response.data.password_confirm ? response.data.password_confirm : \"\",\n                        firstname: response.data.firstname ? response.data.firstname : \"\",\n                        lastname: response.data.lastname ? response.data.lastname : \"\",\n                        email: response.data.email ? response.data.email : \"\",\n\n                    })\n                } else if (response.request.status === 200) {\n                    localStorage.setItem('user_id', response.data.insertId)\n                    history.push(\"/dashboard\")\n                }\n            })\n            .catch(error=>console.log(error))\n    }\n\n    const passwordError = \"Password must be at least 8 characters.\"\n\n    return(\n        <div>\n            <div className=\"ui top fixed menu\"> \n            </div>\n            <div className=\"ui grid\">\n                <div className=\"ui row\">\n                    <div className=\"ten wide column center aligned row\">\n                        <div className=\"LoginMainBackground\">\n                        <img src={Mainpicture} className=\"ui middle aligned large image\"/>\n                        </div> \n                    </div>\n                    <div className=\"five wide column\" style = {{marginLeft:'2.5%'}}>\n                        <div className=\"LogoRegisterHeader\">\n                                <img src={Logo}  className=\"ui mini image \"style={{marginBottom:\"0px\"}}/>\n                                <h3 style={{marginTop: \"0px\", fontFamily:\"Montserrat\",fontWeight:\"bold\"}}>Bloom CMS V0.0.1</h3>\n                        </div>\n                        <form onSubmit= {onSubmitHandler} className=\"ui form\">\n                            <div className=\"field\">\n                                <label>Username</label>\n                                <input onChange= {onChangeHandler} type=\"text\" name=\"username\" placeholder=\"Username\"/>\n                                <small className=\"form-text text-muted\" style={{color:\"red\"}}>{errorState.username}</small>\n                            </div>\n                            <div className=\"field\">\n                                <label>Password</label>\n                                <input onChange= {onChangeHandler} type=\"password\" name=\"password\" placeholder=\"Password\"/>\n                                <small  class=\"form-text text-muted\" style={{color:\"red\"}}>{ formState.password.length > 0 && formState.password.length < 8 && passwordError}</small>\n                                <small className=\"form-text text-muted\" style={{color:\"red\"}}>{errorState.password}</small>\n                            </div>\n                            <div className=\"field\">\n                                <label>Confirm Password</label>\n                                <input onChange= {onChangeHandler} type=\"password\" name=\"password_confirm\" placeholder=\"Confirm Password\"/>\n                                <small className=\"form-text text-muted\" style={{color:\"red\"}}>{errorState.password_confirm}</small>\n                            </div>\n                            <div className=\"field\">\n                                <label>Name</label>\n                                <div className=\"two fields\">\n                                <div className=\"field\">\n                                    <input onChange= {onChangeHandler}type=\"text\" name=\"firstname\" placeholder=\"First Name\"/>\n                                    <small className=\"form-text text-muted\" style={{color:\"red\"}}>{errorState.firstname}</small>\n                                </div>\n                                <div className=\"field\">\n                                    <input onChange= {onChangeHandler} type=\"text\" name=\"lastname\" placeholder=\"Last Name\"/>\n                                    <small className=\"form-text text-muted\" style={{color:\"red\"}}>{errorState.lastname}</small>\n                                </div>\n                                </div>\n                            </div>\n                            <div className=\"field\">\n                                <label>Email</label>\n                                <input onChange= {onChangeHandler} type=\"text\" name=\"email\" placeholder=\"Email\" />\n                                <small className=\"form-text text-muted\" style={{color:\"red\"}}>{errorState.email}</small>\n                            </div>\n                            <button type = \"submit\" style = {{backgroundColor: \"#D2ECF9\", color: \"black\", fontFamily:\"Montserrat\"}} className=\"fluid ui button primary\">Sign up</button>\n                        </form>\n                        <p style = {{textAlign:'center', marginTop:\"10px\", color:'darkgrey'}}>\n                        By signing up, you agree to our <span className = \"spanBold\">Terms</span>, <span className = \"spanBold\">Data Policy</span> and <span className = \"spanBold\">Cookies Policy</span>.\n                        </p>\n                        <p style = {{textAlign:'center', marginTop:\"10px\"}}>\n                        Already Registered? <a href = \"/login\" style = {{fontWeight:'bold'}}>Login</a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}