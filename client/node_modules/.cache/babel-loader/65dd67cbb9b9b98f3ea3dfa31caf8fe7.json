{"ast":null,"code":"var _jsxFileName = \"/Users/MIchaelLin/Documents/GitHub/bloom-cms/client/src/pages/Login.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport Mainpicture from \"../images/life-satisfaction.svg\";\nimport Logo from \"../images/logo.svg\";\n\nconst Login = props => {\n  const history = useHistory();\n  const [formState, setFormState] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errorState, setErrorState] = useState({\n    email: \"\",\n    password: \"\",\n    login: \"\"\n  });\n\n  const onChangeHandler = event => {\n    setFormState({ ...formState,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const onSubmitHandler = event => {\n    event.preventDefault();\n    axios.post('http://localhost:4000/users/login', formState).then(response => {\n      if (response.data.code === 204) {\n        setErrorState({\n          email: response.data.email ? response.data.email : \"\",\n          login: response.data.login ? response.data.login : \"\"\n        });\n      } else if (response.result.code === 200) {\n        console.log(response);\n        localStorage.setItem('user', JSON.stringify(response));\n        history.push(\"/dashboard\");\n      }\n    }).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"ui top fixed menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ten wide column center aligned row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LoginMainBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Mainpicture,\n    className: \"ui middle aligned large image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"five wide column\",\n    style: {\n      marginLeft: '2.5%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LogoLoginHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    className: \"ui mini image \",\n    style: {\n      marginBottom: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      marginTop: \"0px\",\n      fontFamily: \"Montserrat\",\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 33\n    }\n  }, \"Bloom CMS V0.0.1\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitHandler,\n    class: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 33\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 33\n    }\n  }, errorState.email)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 33\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChangeHandler,\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/placeholder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }, \"Forgot Password?\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: {\n      backgroundColor: \"#D2ECF9\",\n      color: \"black\",\n      fontFamily: \"Montserrat\"\n    },\n    class: \"fluid ui button primary \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }, \"Log In\")), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, errorState.login)), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/register\",\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 48\n    }\n  }, \"Sign Up\"))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/MIchaelLin/Documents/GitHub/bloom-cms/client/src/pages/Login.js"],"names":["React","useState","axios","useHistory","Login","props","history","formState","setFormState","email","password","errorState","setErrorState","login","onChangeHandler","event","target","name","value","onSubmitHandler","preventDefault","post","then","response","data","code","result","console","log","localStorage","setItem","JSON","stringify","push","catch","error","Mainpicture","marginLeft","Logo","marginBottom","marginTop","fontFamily","fontWeight","color","backgroundColor","textAlign"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios'\nimport { useHistory } from \"react-router-dom\";\nimport Mainpicture from '../images/life-satisfaction.svg'\nimport Logo from '../images/logo.svg'\n\nconst Login = (props) => {\n    const history = useHistory();\n    const [formState, setFormState] = useState({\n        email: \"\",\n        password: \"\",\n    })\n\n    const [errorState, setErrorState] = useState({\n        email: \"\",\n        password: \"\",\n        login: \"\",\n    })\n\n    const onChangeHandler = (event) => {\n        setFormState({\n            ...formState,\n            [event.target.name]:event.target.value\n        })\n    }\n\n    const onSubmitHandler = (event) => {\n        event.preventDefault();\n        axios.post('http://localhost:4000/users/login',formState)\n            .then(response => {\n                if(response.data.code === 204){\n                    setErrorState({\n                        email: response.data.email ? response.data.email : \"\",\n                        login: response.data.login ? response.data.login : \"\",\n                    })\n                } else if (response.result.code === 200) {\n                    console.log(response)\n                    localStorage.setItem('user', JSON.stringify(response))\n                    history.push(\"/dashboard\")\n                }\n            })\n            .catch(error=>console.log(error))\n    }\n    return(\n        <div>\n            <div class=\"ui top fixed menu\"> \n            </div>\n            <div className=\"ui grid\">\n                <div className=\"ui row\">\n                    <div className=\"ten wide column center aligned row\" >\n                        <div className=\"LoginMainBackground\">\n                        <img src={Mainpicture} className=\"ui middle aligned large image\"/>\n                        </div> \n                    </div>\n                    <div className=\"five wide column\" style = {{marginLeft:'2.5%'}}>\n                        <div className=\"LogoLoginHeader\">\n                                <img src={Logo}  className=\"ui mini image \"style={{marginBottom:\"0px\"}}/>\n                                <h3 style={{marginTop:\"0px\",fontFamily:\"Montserrat\",fontWeight:\"bold\"}}>Bloom CMS V0.0.1</h3>\n                        </div>\n                        <form onSubmit = {onSubmitHandler} class=\"ui form\">\n                            <div class=\"field\">\n                                <label>Email</label>\n                                <input onChange= {onChangeHandler} type=\"text\" name=\"email\" placeholder=\"Email\" />\n                                <small className=\"form-text text-muted\" style={{color:\"red\"}}>{errorState.email}</small>\n                            </div>\n                            <div class=\"field\">\n                                <label>Password</label>\n                                <input onChange= {onChangeHandler} type=\"password\" name=\"password\" placeholder=\"Password\"/>\n                                <p style = {{marginTop:\"10px\"}}>\n                                <a href = \"/placeholder\">Forgot Password?</a>\n                                </p>                                \n                            </div>\n                            <button type = \"submit\" style = {{backgroundColor: \"#D2ECF9\", color: \"black\", fontFamily:\"Montserrat\"}}class=\"fluid ui button primary \">Log In</button>\n                        </form>\n                        <p style={{color:\"red\", textAlign:\"center\"}}>\n                        <small className=\"form-text text-muted\">{errorState.login}</small>\n                        </p>\n                        <p style = {{textAlign:'center', marginTop:\"10px\"}}>\n                        Don't have an account? <a href = \"/register\" style = {{fontWeight:\"bold\"}}>Sign Up</a>\n                        </p>                        \n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}